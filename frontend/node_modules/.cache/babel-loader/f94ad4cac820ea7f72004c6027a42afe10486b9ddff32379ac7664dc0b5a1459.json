{"ast":null,"code":"import _objectSpread from\"/Users/daringanitch/workspace/Enterprise-OSINT-Platform/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * RiskCommandCenter Component\n *\n * Executive-level risk visualization with 6-category breakdown,\n * animated gauge, trend analysis, and AI recommendations.\n *\n * Features:\n * - Central gauge with animated needle (0-100)\n * - 6 radial risk categories\n * - 7-day trend sparklines per category\n * - Top risk factors with severity badges\n * - AI-generated mitigation recommendations\n */import React,{useMemo}from'react';import{Box,Typography,Chip,Tooltip,LinearProgress,Grid,alpha,styled}from'@mui/material';import{motion}from'framer-motion';import ShieldIcon from'@mui/icons-material/Shield';import TrendingUpIcon from'@mui/icons-material/TrendingUp';import TrendingDownIcon from'@mui/icons-material/TrendingDown';import TrendingFlatIcon from'@mui/icons-material/TrendingFlat';import WarningIcon from'@mui/icons-material/Warning';import SecurityIcon from'@mui/icons-material/Security';import StorageIcon from'@mui/icons-material/Storage';import VpnKeyIcon from'@mui/icons-material/VpnKey';import VerifiedUserIcon from'@mui/icons-material/VerifiedUser';import PolicyIcon from'@mui/icons-material/Policy';import BugReportIcon from'@mui/icons-material/BugReport';import LightbulbIcon from'@mui/icons-material/Lightbulb';import{cyberColors,designTokens,glassmorphism}from'../../utils/theme';// =============================================================================\n// Types\n// =============================================================================\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// =============================================================================\n// Category Configuration\n// =============================================================================\nconst categoryConfig={infrastructure:{icon:/*#__PURE__*/_jsx(StorageIcon,{}),label:'Infrastructure',color:cyberColors.neon.cyan},threat:{icon:/*#__PURE__*/_jsx(BugReportIcon,{}),label:'Threat',color:cyberColors.neon.red},credential:{icon:/*#__PURE__*/_jsx(VpnKeyIcon,{}),label:'Credential',color:cyberColors.neon.orange},reputation:{icon:/*#__PURE__*/_jsx(VerifiedUserIcon,{}),label:'Reputation',color:cyberColors.neon.purple},compliance:{icon:/*#__PURE__*/_jsx(PolicyIcon,{}),label:'Compliance',color:cyberColors.neon.electricBlue},data_exposure:{icon:/*#__PURE__*/_jsx(SecurityIcon,{}),label:'Data Exposure',color:cyberColors.neon.magenta}};const severityColors={critical:cyberColors.neon.magenta,high:cyberColors.neon.red,medium:cyberColors.neon.orange,low:cyberColors.neon.yellow};const priorityColors={immediate:cyberColors.neon.magenta,high:cyberColors.neon.red,medium:cyberColors.neon.orange,low:cyberColors.neon.green};// =============================================================================\n// Styled Components\n// =============================================================================\nconst CommandCenterContainer=styled(Box)(_ref=>{let{theme}=_ref;return _objectSpread(_objectSpread({},glassmorphism.card),{},{borderRadius:designTokens.borderRadius.lg,overflow:'hidden'});});const HeaderSection=styled(Box)(_ref2=>{let{theme}=_ref2;return{padding:'16px 20px',borderBottom:\"1px solid \".concat(alpha(cyberColors.neon.cyan,0.1)),display:'flex',alignItems:'center',justifyContent:'space-between'};});const GaugeContainer=styled(Box)(_ref3=>{let{theme}=_ref3;return{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:'20px'};});const CategoryCard=styled(motion.div)(_ref4=>{let{categoryColor}=_ref4;return _objectSpread(_objectSpread({},glassmorphism.interactive),{},{borderRadius:designTokens.borderRadius.md,padding:12,borderLeft:\"3px solid \".concat(categoryColor),cursor:'pointer'});});const SparklineContainer=styled(Box)(_ref5=>{let{theme}=_ref5;return{height:24,display:'flex',alignItems:'flex-end',gap:2};});const SparklineBar=styled(motion.div)(_ref6=>{let{color}=_ref6;return{width:4,borderRadius:1,background:color,boxShadow:\"0 0 4px \".concat(color)};});const RiskFactorCard=styled(motion.div)(_ref7=>{let{theme}=_ref7;return _objectSpread(_objectSpread({},glassmorphism.interactive),{},{borderRadius:designTokens.borderRadius.sm,padding:10,marginBottom:6,cursor:'pointer'});});const RecommendationCard=styled(motion.div)(_ref8=>{let{priority}=_ref8;return _objectSpread(_objectSpread({},glassmorphism.interactive),{},{borderRadius:designTokens.borderRadius.sm,padding:10,marginBottom:6,cursor:'pointer',borderLeft:\"3px solid \".concat(priorityColors[priority]||cyberColors.neon.cyan)});});// =============================================================================\n// Risk Gauge Component\n// =============================================================================\nconst RiskGaugeComponent=_ref9=>{let{value,trend}=_ref9;const size=200;const strokeWidth=16;const center=size/2;const radius=(size-strokeWidth)/2-10;// Gauge arc (from -135 to 135 degrees, 270 total)\nconst startAngle=-135;const endAngle=135;const totalAngle=endAngle-startAngle;const valueAngle=startAngle+value/100*totalAngle;const polarToCartesian=(cx,cy,r,angle)=>{const rad=angle*Math.PI/180;return{x:cx+r*Math.cos(rad),y:cy+r*Math.sin(rad)};};const describeArc=(x,y,r,startAng,endAng)=>{const start=polarToCartesian(x,y,r,endAng);const end=polarToCartesian(x,y,r,startAng);const largeArcFlag=endAng-startAng<=180?0:1;return\"M \".concat(start.x,\" \").concat(start.y,\" A \").concat(r,\" \").concat(r,\" 0 \").concat(largeArcFlag,\" 0 \").concat(end.x,\" \").concat(end.y);};// Color based on risk level\nconst gaugeColor=value>=75?cyberColors.neon.magenta:value>=50?cyberColors.neon.red:value>=25?cyberColors.neon.orange:cyberColors.neon.green;const riskLabel=value>=75?'CRITICAL':value>=50?'HIGH':value>=25?'MEDIUM':'LOW';return/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',width:size,height:size*0.7},children:[/*#__PURE__*/_jsxs(\"svg\",{width:size,height:size*0.7,style:{overflow:'visible'},children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"filter\",{id:\"gaugeGlow\",x:\"-50%\",y:\"-50%\",width:\"200%\",height:\"200%\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"4\",result:\"blur\"}),/*#__PURE__*/_jsxs(\"feMerge\",{children:[/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"blur\"}),/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"SourceGraphic\"})]})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"gaugeGradient\",x1:\"0%\",y1:\"0%\",x2:\"100%\",y2:\"0%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:cyberColors.neon.green}),/*#__PURE__*/_jsx(\"stop\",{offset:\"33%\",stopColor:cyberColors.neon.orange}),/*#__PURE__*/_jsx(\"stop\",{offset:\"66%\",stopColor:cyberColors.neon.red}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:cyberColors.neon.magenta})]})]}),/*#__PURE__*/_jsx(\"path\",{d:describeArc(center,center,radius,startAngle,endAngle),fill:\"none\",stroke:alpha(cyberColors.dark.ash,0.5),strokeWidth:strokeWidth,strokeLinecap:\"round\"}),/*#__PURE__*/_jsx(motion.path,{d:describeArc(center,center,radius,startAngle,valueAngle),fill:\"none\",stroke:\"url(#gaugeGradient)\",strokeWidth:strokeWidth,strokeLinecap:\"round\",filter:\"url(#gaugeGlow)\",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5,ease:'easeOut'}}),[0,25,50,75,100].map(tick=>{const angle=startAngle+tick/100*totalAngle;const inner=polarToCartesian(center,center,radius-12,angle);const outer=polarToCartesian(center,center,radius+6,angle);return/*#__PURE__*/_jsx(\"line\",{x1:inner.x,y1:inner.y,x2:outer.x,y2:outer.y,stroke:cyberColors.text.muted,strokeWidth:2},tick);}),/*#__PURE__*/_jsxs(motion.g,{initial:{rotate:startAngle},animate:{rotate:valueAngle},transition:{type:'spring',stiffness:50,damping:15,delay:0.5},style:{transformOrigin:\"\".concat(center,\"px \").concat(center,\"px\")},children:[/*#__PURE__*/_jsx(\"line\",{x1:center,y1:center,x2:center,y2:center-radius+20,stroke:gaugeColor,strokeWidth:3,strokeLinecap:\"round\",filter:\"url(#gaugeGlow)\"}),/*#__PURE__*/_jsx(\"circle\",{cx:center,cy:center,r:8,fill:gaugeColor,filter:\"url(#gaugeGlow)\"})]})]}),/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:'55%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center'},children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:0.8,type:'spring'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",sx:{fontFamily:designTokens.typography.fontFamily.mono,fontWeight:700,color:gaugeColor,textShadow:\"0 0 20px \".concat(gaugeColor),lineHeight:1},children:Math.round(value)}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:gaugeColor,fontWeight:700,letterSpacing:'0.1em'},children:riskLabel}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',mt:0.5},children:[trend==='up'&&/*#__PURE__*/_jsx(TrendingUpIcon,{sx:{fontSize:14,color:cyberColors.neon.red}}),trend==='down'&&/*#__PURE__*/_jsx(TrendingDownIcon,{sx:{fontSize:14,color:cyberColors.neon.green}}),trend==='stable'&&/*#__PURE__*/_jsx(TrendingFlatIcon,{sx:{fontSize:14,color:cyberColors.neon.orange}})]})]})})]});};// =============================================================================\n// Sparkline Component\n// =============================================================================\nconst Sparkline=_ref0=>{let{data,color,maxHeight=24}=_ref0;const maxValue=Math.max(...data,1);return/*#__PURE__*/_jsx(SparklineContainer,{children:data.map((value,index)=>/*#__PURE__*/_jsx(SparklineBar,{color:color,initial:{height:0},animate:{height:\"\".concat(value/maxValue*maxHeight,\"px\")},transition:{delay:index*0.05,duration:0.3}},index))});};// =============================================================================\n// Component\n// =============================================================================\nexport const RiskCommandCenter=_ref1=>{let{overallScore,overallTrend,categories,riskFactors,recommendations,title='Risk Command Center',loading=false,onRiskFactorClick,onRecommendationClick,testId}=_ref1;// Sort risk factors by severity\nconst sortedFactors=useMemo(()=>{const severityOrder={critical:0,high:1,medium:2,low:3};return[...riskFactors].sort((a,b)=>severityOrder[a.severity]-severityOrder[b.severity]);},[riskFactors]);// Sort recommendations by priority\nconst sortedRecommendations=useMemo(()=>{const priorityOrder={immediate:0,high:1,medium:2,low:3};return[...recommendations].sort((a,b)=>priorityOrder[a.priority]-priorityOrder[b.priority]);},[recommendations]);if(loading){return/*#__PURE__*/_jsxs(CommandCenterContainer,{\"data-testid\":testId,sx:{p:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(LinearProgress,{sx:{bgcolor:alpha(cyberColors.neon.cyan,0.1),'& .MuiLinearProgress-bar':{background:designTokens.colors.gradients.primary}}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{mt:2,color:cyberColors.text.secondary},children:\"Calculating risk assessment...\"})]});}return/*#__PURE__*/_jsxs(CommandCenterContainer,{\"data-testid\":testId,children:[/*#__PURE__*/_jsx(HeaderSection,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(ShieldIcon,{sx:{color:cyberColors.neon.cyan}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontFamily:designTokens.typography.fontFamily.display,color:cyberColors.text.primary,fontSize:'1rem'},children:title}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:cyberColors.text.secondary},children:[\"Real-time risk assessment across \",categories.length,\" categories\"]})]})]})}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,sx:{borderRight:{md:\"1px solid \".concat(alpha(cyberColors.neon.cyan,0.1))}},children:[/*#__PURE__*/_jsx(GaugeContainer,{children:/*#__PURE__*/_jsx(RiskGaugeComponent,{value:overallScore,trend:overallTrend})}),/*#__PURE__*/_jsxs(Box,{sx:{p:2,pt:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:cyberColors.neon.cyan,fontWeight:600,display:'block',mb:1,letterSpacing:'0.05em'},children:\"CATEGORY BREAKDOWN\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:categories.map((cat,index)=>{const config=categoryConfig[cat.category];return/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(CategoryCard,{categoryColor:config.color,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:index*0.05},whileHover:{scale:1.02},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,mb:1},children:[/*#__PURE__*/_jsx(Box,{sx:{color:config.color,fontSize:16},children:config.icon}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontWeight:600,color:cyberColors.text.primary},children:config.label})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontFamily:designTokens.typography.fontFamily.mono,color:config.color,fontWeight:700},children:cat.score}),cat.trend==='up'&&/*#__PURE__*/_jsx(TrendingUpIcon,{sx:{fontSize:14,color:cyberColors.neon.red}}),cat.trend==='down'&&/*#__PURE__*/_jsx(TrendingDownIcon,{sx:{fontSize:14,color:cyberColors.neon.green}}),cat.trend==='stable'&&/*#__PURE__*/_jsx(TrendingFlatIcon,{sx:{fontSize:14,color:cyberColors.text.muted}})]}),/*#__PURE__*/_jsx(Sparkline,{data:cat.history,color:config.color})]})},cat.category);})})]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsxs(Box,{sx:{p:2,borderBottom:\"1px solid \".concat(alpha(cyberColors.neon.cyan,0.1))},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:cyberColors.neon.red,fontWeight:600,display:'block',mb:1,letterSpacing:'0.05em'},children:[/*#__PURE__*/_jsx(WarningIcon,{sx:{fontSize:12,mr:0.5,verticalAlign:'middle'}}),\"TOP RISK FACTORS\"]}),/*#__PURE__*/_jsx(Box,{sx:{maxHeight:200,overflowY:'auto'},children:sortedFactors.slice(0,5).map((factor,index)=>/*#__PURE__*/_jsx(RiskFactorCard,{onClick:()=>onRiskFactorClick===null||onRiskFactorClick===void 0?void 0:onRiskFactorClick(factor),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:index*0.05},whileHover:{x:4},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'flex-start',gap:1},children:[/*#__PURE__*/_jsx(Chip,{label:factor.severity.toUpperCase(),size:\"small\",sx:{height:18,fontSize:'0.55rem',fontWeight:700,bgcolor:alpha(severityColors[factor.severity],0.2),color:severityColors[factor.severity]}}),/*#__PURE__*/_jsxs(Box,{sx:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontWeight:600,color:cyberColors.text.primary,display:'block'},children:factor.title}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:cyberColors.text.secondary,fontSize:'0.65rem',display:'block',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:factor.description})]})]})},factor.id))})]}),/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:cyberColors.neon.green,fontWeight:600,display:'block',mb:1,letterSpacing:'0.05em'},children:[/*#__PURE__*/_jsx(LightbulbIcon,{sx:{fontSize:12,mr:0.5,verticalAlign:'middle'}}),\"RECOMMENDED ACTIONS\"]}),/*#__PURE__*/_jsx(Box,{sx:{maxHeight:180,overflowY:'auto'},children:sortedRecommendations.slice(0,4).map((rec,index)=>/*#__PURE__*/_jsx(RecommendationCard,{priority:rec.priority,onClick:()=>onRecommendationClick===null||onRecommendationClick===void 0?void 0:onRecommendationClick(rec),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:index*0.05},whileHover:{x:4},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'flex-start',gap:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{fontWeight:600,color:cyberColors.text.primary,display:'block'},children:rec.title}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:cyberColors.text.secondary,fontSize:'0.65rem',display:'block',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:rec.description})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:0.5},children:[/*#__PURE__*/_jsx(Chip,{label:rec.priority,size:\"small\",sx:{height:16,fontSize:'0.5rem',fontWeight:700,bgcolor:alpha(priorityColors[rec.priority],0.2),color:priorityColors[rec.priority]}}),/*#__PURE__*/_jsx(Tooltip,{title:\"Effort: \".concat(rec.effort),children:/*#__PURE__*/_jsx(Chip,{label:rec.effort[0].toUpperCase(),size:\"small\",sx:{height:16,fontSize:'0.5rem',bgcolor:alpha(cyberColors.text.muted,0.2)}})})]})]})},rec.id))})]})]})]})]});};export default RiskCommandCenter;","map":{"version":3,"names":["React","useMemo","Box","Typography","Chip","Tooltip","LinearProgress","Grid","alpha","styled","motion","ShieldIcon","TrendingUpIcon","TrendingDownIcon","TrendingFlatIcon","WarningIcon","SecurityIcon","StorageIcon","VpnKeyIcon","VerifiedUserIcon","PolicyIcon","BugReportIcon","LightbulbIcon","cyberColors","designTokens","glassmorphism","jsx","_jsx","jsxs","_jsxs","categoryConfig","infrastructure","icon","label","color","neon","cyan","threat","red","credential","orange","reputation","purple","compliance","electricBlue","data_exposure","magenta","severityColors","critical","high","medium","low","yellow","priorityColors","immediate","green","CommandCenterContainer","_ref","theme","_objectSpread","card","borderRadius","lg","overflow","HeaderSection","_ref2","padding","borderBottom","concat","display","alignItems","justifyContent","GaugeContainer","_ref3","flexDirection","CategoryCard","div","_ref4","categoryColor","interactive","md","borderLeft","cursor","SparklineContainer","_ref5","height","gap","SparklineBar","_ref6","width","background","boxShadow","RiskFactorCard","_ref7","sm","marginBottom","RecommendationCard","_ref8","priority","RiskGaugeComponent","_ref9","value","trend","size","strokeWidth","center","radius","startAngle","endAngle","totalAngle","valueAngle","polarToCartesian","cx","cy","r","angle","rad","Math","PI","x","cos","y","sin","describeArc","startAng","endAng","start","end","largeArcFlag","gaugeColor","riskLabel","sx","position","children","style","id","stdDeviation","result","in","x1","y1","x2","y2","offset","stopColor","d","fill","stroke","dark","ash","strokeLinecap","path","filter","initial","pathLength","animate","transition","duration","ease","map","tick","inner","outer","text","muted","g","rotate","type","stiffness","damping","delay","transformOrigin","top","left","transform","textAlign","scale","variant","fontFamily","typography","mono","fontWeight","textShadow","lineHeight","round","letterSpacing","mt","fontSize","Sparkline","_ref0","data","maxHeight","maxValue","max","index","RiskCommandCenter","_ref1","overallScore","overallTrend","categories","riskFactors","recommendations","title","loading","onRiskFactorClick","onRecommendationClick","testId","sortedFactors","severityOrder","sort","a","b","severity","sortedRecommendations","priorityOrder","p","bgcolor","colors","gradients","primary","secondary","length","container","item","xs","borderRight","pt","mb","spacing","cat","config","category","opacity","whileHover","score","history","mr","verticalAlign","overflowY","slice","factor","onClick","toUpperCase","flex","minWidth","textOverflow","whiteSpace","description","rec","effort"],"sources":["/Users/daringanitch/workspace/Enterprise-OSINT-Platform/frontend/src/components/dashboard/RiskCommandCenter.tsx"],"sourcesContent":["/**\n * RiskCommandCenter Component\n *\n * Executive-level risk visualization with 6-category breakdown,\n * animated gauge, trend analysis, and AI recommendations.\n *\n * Features:\n * - Central gauge with animated needle (0-100)\n * - 6 radial risk categories\n * - 7-day trend sparklines per category\n * - Top risk factors with severity badges\n * - AI-generated mitigation recommendations\n */\n\nimport React, { useMemo } from 'react';\nimport {\n  Box,\n  Typography,\n  Chip,\n  Tooltip,\n  LinearProgress,\n  Grid,\n  alpha,\n  styled,\n  Divider,\n} from '@mui/material';\nimport { motion } from 'framer-motion';\nimport ShieldIcon from '@mui/icons-material/Shield';\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\nimport TrendingDownIcon from '@mui/icons-material/TrendingDown';\nimport TrendingFlatIcon from '@mui/icons-material/TrendingFlat';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport SecurityIcon from '@mui/icons-material/Security';\nimport StorageIcon from '@mui/icons-material/Storage';\nimport VpnKeyIcon from '@mui/icons-material/VpnKey';\nimport VerifiedUserIcon from '@mui/icons-material/VerifiedUser';\nimport PolicyIcon from '@mui/icons-material/Policy';\nimport BugReportIcon from '@mui/icons-material/BugReport';\nimport LightbulbIcon from '@mui/icons-material/Lightbulb';\nimport { cyberColors, designTokens, glassmorphism } from '../../utils/theme';\nimport { gaugeNeedleVariants } from '../../utils/animations';\n\n// =============================================================================\n// Types\n// =============================================================================\n\nexport type RiskCategory =\n  | 'infrastructure'\n  | 'threat'\n  | 'credential'\n  | 'reputation'\n  | 'compliance'\n  | 'data_exposure';\n\nexport interface CategoryRisk {\n  category: RiskCategory;\n  score: number; // 0-100\n  trend: 'up' | 'down' | 'stable';\n  trendPercentage: number;\n  history: number[]; // 7-day history\n  topFactors: string[];\n}\n\nexport interface RiskFactor {\n  id: string;\n  title: string;\n  description: string;\n  severity: 'critical' | 'high' | 'medium' | 'low';\n  category: RiskCategory;\n  impact: number;\n}\n\nexport interface Recommendation {\n  id: string;\n  title: string;\n  description: string;\n  priority: 'immediate' | 'high' | 'medium' | 'low';\n  effort: 'low' | 'medium' | 'high';\n  category: RiskCategory;\n}\n\nexport interface RiskCommandCenterProps {\n  /** Overall risk score (0-100) */\n  overallScore: number;\n  /** Risk trend direction */\n  overallTrend: 'up' | 'down' | 'stable';\n  /** Category-level risk breakdown */\n  categories: CategoryRisk[];\n  /** Top risk factors */\n  riskFactors: RiskFactor[];\n  /** AI-generated recommendations */\n  recommendations: Recommendation[];\n  /** Title */\n  title?: string;\n  /** Loading state */\n  loading?: boolean;\n  /** Risk factor click handler */\n  onRiskFactorClick?: (factor: RiskFactor) => void;\n  /** Recommendation click handler */\n  onRecommendationClick?: (rec: Recommendation) => void;\n  /** Test ID */\n  testId?: string;\n}\n\n// =============================================================================\n// Category Configuration\n// =============================================================================\n\nconst categoryConfig: Record<RiskCategory, { icon: React.ReactNode; label: string; color: string }> = {\n  infrastructure: {\n    icon: <StorageIcon />,\n    label: 'Infrastructure',\n    color: cyberColors.neon.cyan,\n  },\n  threat: {\n    icon: <BugReportIcon />,\n    label: 'Threat',\n    color: cyberColors.neon.red,\n  },\n  credential: {\n    icon: <VpnKeyIcon />,\n    label: 'Credential',\n    color: cyberColors.neon.orange,\n  },\n  reputation: {\n    icon: <VerifiedUserIcon />,\n    label: 'Reputation',\n    color: cyberColors.neon.purple,\n  },\n  compliance: {\n    icon: <PolicyIcon />,\n    label: 'Compliance',\n    color: cyberColors.neon.electricBlue,\n  },\n  data_exposure: {\n    icon: <SecurityIcon />,\n    label: 'Data Exposure',\n    color: cyberColors.neon.magenta,\n  },\n};\n\nconst severityColors = {\n  critical: cyberColors.neon.magenta,\n  high: cyberColors.neon.red,\n  medium: cyberColors.neon.orange,\n  low: cyberColors.neon.yellow,\n};\n\nconst priorityColors = {\n  immediate: cyberColors.neon.magenta,\n  high: cyberColors.neon.red,\n  medium: cyberColors.neon.orange,\n  low: cyberColors.neon.green,\n};\n\n// =============================================================================\n// Styled Components\n// =============================================================================\n\nconst CommandCenterContainer = styled(Box)(({ theme }) => ({\n  ...glassmorphism.card,\n  borderRadius: designTokens.borderRadius.lg,\n  overflow: 'hidden',\n}));\n\nconst HeaderSection = styled(Box)(({ theme }) => ({\n  padding: '16px 20px',\n  borderBottom: `1px solid ${alpha(cyberColors.neon.cyan, 0.1)}`,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n}));\n\nconst GaugeContainer = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  padding: '20px',\n}));\n\nconst CategoryCard = styled(motion.div)<{ categoryColor: string }>(({ categoryColor }) => ({\n  ...glassmorphism.interactive,\n  borderRadius: designTokens.borderRadius.md,\n  padding: 12,\n  borderLeft: `3px solid ${categoryColor}`,\n  cursor: 'pointer',\n}));\n\nconst SparklineContainer = styled(Box)(({ theme }) => ({\n  height: 24,\n  display: 'flex',\n  alignItems: 'flex-end',\n  gap: 2,\n}));\n\nconst SparklineBar = styled(motion.div)<{ color: string }>(({ color }) => ({\n  width: 4,\n  borderRadius: 1,\n  background: color,\n  boxShadow: `0 0 4px ${color}`,\n}));\n\nconst RiskFactorCard = styled(motion.div)(({ theme }) => ({\n  ...glassmorphism.interactive,\n  borderRadius: designTokens.borderRadius.sm,\n  padding: 10,\n  marginBottom: 6,\n  cursor: 'pointer',\n}));\n\nconst RecommendationCard = styled(motion.div)<{ priority: string }>(({ priority }) => ({\n  ...glassmorphism.interactive,\n  borderRadius: designTokens.borderRadius.sm,\n  padding: 10,\n  marginBottom: 6,\n  cursor: 'pointer',\n  borderLeft: `3px solid ${priorityColors[priority as keyof typeof priorityColors] || cyberColors.neon.cyan}`,\n}));\n\n// =============================================================================\n// Risk Gauge Component\n// =============================================================================\n\nconst RiskGaugeComponent: React.FC<{ value: number; trend: 'up' | 'down' | 'stable' }> = ({\n  value,\n  trend,\n}) => {\n  const size = 200;\n  const strokeWidth = 16;\n  const center = size / 2;\n  const radius = (size - strokeWidth) / 2 - 10;\n\n  // Gauge arc (from -135 to 135 degrees, 270 total)\n  const startAngle = -135;\n  const endAngle = 135;\n  const totalAngle = endAngle - startAngle;\n  const valueAngle = startAngle + (value / 100) * totalAngle;\n\n  const polarToCartesian = (cx: number, cy: number, r: number, angle: number) => {\n    const rad = (angle * Math.PI) / 180;\n    return {\n      x: cx + r * Math.cos(rad),\n      y: cy + r * Math.sin(rad),\n    };\n  };\n\n  const describeArc = (x: number, y: number, r: number, startAng: number, endAng: number) => {\n    const start = polarToCartesian(x, y, r, endAng);\n    const end = polarToCartesian(x, y, r, startAng);\n    const largeArcFlag = endAng - startAng <= 180 ? 0 : 1;\n    return `M ${start.x} ${start.y} A ${r} ${r} 0 ${largeArcFlag} 0 ${end.x} ${end.y}`;\n  };\n\n  // Color based on risk level\n  const gaugeColor =\n    value >= 75 ? cyberColors.neon.magenta :\n    value >= 50 ? cyberColors.neon.red :\n    value >= 25 ? cyberColors.neon.orange :\n    cyberColors.neon.green;\n\n  const riskLabel =\n    value >= 75 ? 'CRITICAL' :\n    value >= 50 ? 'HIGH' :\n    value >= 25 ? 'MEDIUM' : 'LOW';\n\n  return (\n    <Box sx={{ position: 'relative', width: size, height: size * 0.7 }}>\n      <svg width={size} height={size * 0.7} style={{ overflow: 'visible' }}>\n        <defs>\n          <filter id=\"gaugeGlow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n            <feGaussianBlur stdDeviation=\"4\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n          <linearGradient id=\"gaugeGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor={cyberColors.neon.green} />\n            <stop offset=\"33%\" stopColor={cyberColors.neon.orange} />\n            <stop offset=\"66%\" stopColor={cyberColors.neon.red} />\n            <stop offset=\"100%\" stopColor={cyberColors.neon.magenta} />\n          </linearGradient>\n        </defs>\n\n        {/* Background arc */}\n        <path\n          d={describeArc(center, center, radius, startAngle, endAngle)}\n          fill=\"none\"\n          stroke={alpha(cyberColors.dark.ash, 0.5)}\n          strokeWidth={strokeWidth}\n          strokeLinecap=\"round\"\n        />\n\n        {/* Value arc */}\n        <motion.path\n          d={describeArc(center, center, radius, startAngle, valueAngle)}\n          fill=\"none\"\n          stroke=\"url(#gaugeGradient)\"\n          strokeWidth={strokeWidth}\n          strokeLinecap=\"round\"\n          filter=\"url(#gaugeGlow)\"\n          initial={{ pathLength: 0 }}\n          animate={{ pathLength: 1 }}\n          transition={{ duration: 1.5, ease: 'easeOut' }}\n        />\n\n        {/* Tick marks */}\n        {[0, 25, 50, 75, 100].map((tick) => {\n          const angle = startAngle + (tick / 100) * totalAngle;\n          const inner = polarToCartesian(center, center, radius - 12, angle);\n          const outer = polarToCartesian(center, center, radius + 6, angle);\n          return (\n            <line\n              key={tick}\n              x1={inner.x}\n              y1={inner.y}\n              x2={outer.x}\n              y2={outer.y}\n              stroke={cyberColors.text.muted}\n              strokeWidth={2}\n            />\n          );\n        })}\n\n        {/* Needle */}\n        <motion.g\n          initial={{ rotate: startAngle }}\n          animate={{ rotate: valueAngle }}\n          transition={{ type: 'spring', stiffness: 50, damping: 15, delay: 0.5 }}\n          style={{ transformOrigin: `${center}px ${center}px` }}\n        >\n          <line\n            x1={center}\n            y1={center}\n            x2={center}\n            y2={center - radius + 20}\n            stroke={gaugeColor}\n            strokeWidth={3}\n            strokeLinecap=\"round\"\n            filter=\"url(#gaugeGlow)\"\n          />\n          <circle cx={center} cy={center} r={8} fill={gaugeColor} filter=\"url(#gaugeGlow)\" />\n        </motion.g>\n      </svg>\n\n      {/* Center text */}\n      <Box\n        sx={{\n          position: 'absolute',\n          top: '55%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          textAlign: 'center',\n        }}\n      >\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          transition={{ delay: 0.8, type: 'spring' }}\n        >\n          <Typography\n            variant=\"h3\"\n            sx={{\n              fontFamily: designTokens.typography.fontFamily.mono,\n              fontWeight: 700,\n              color: gaugeColor,\n              textShadow: `0 0 20px ${gaugeColor}`,\n              lineHeight: 1,\n            }}\n          >\n            {Math.round(value)}\n          </Typography>\n          <Typography\n            variant=\"caption\"\n            sx={{\n              color: gaugeColor,\n              fontWeight: 700,\n              letterSpacing: '0.1em',\n            }}\n          >\n            {riskLabel}\n          </Typography>\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', mt: 0.5 }}>\n            {trend === 'up' && <TrendingUpIcon sx={{ fontSize: 14, color: cyberColors.neon.red }} />}\n            {trend === 'down' && <TrendingDownIcon sx={{ fontSize: 14, color: cyberColors.neon.green }} />}\n            {trend === 'stable' && <TrendingFlatIcon sx={{ fontSize: 14, color: cyberColors.neon.orange }} />}\n          </Box>\n        </motion.div>\n      </Box>\n    </Box>\n  );\n};\n\n// =============================================================================\n// Sparkline Component\n// =============================================================================\n\nconst Sparkline: React.FC<{ data: number[]; color: string; maxHeight?: number }> = ({\n  data,\n  color,\n  maxHeight = 24,\n}) => {\n  const maxValue = Math.max(...data, 1);\n  return (\n    <SparklineContainer>\n      {data.map((value, index) => (\n        <SparklineBar\n          key={index}\n          color={color}\n          initial={{ height: 0 }}\n          animate={{ height: `${(value / maxValue) * maxHeight}px` }}\n          transition={{ delay: index * 0.05, duration: 0.3 }}\n        />\n      ))}\n    </SparklineContainer>\n  );\n};\n\n// =============================================================================\n// Component\n// =============================================================================\n\nexport const RiskCommandCenter: React.FC<RiskCommandCenterProps> = ({\n  overallScore,\n  overallTrend,\n  categories,\n  riskFactors,\n  recommendations,\n  title = 'Risk Command Center',\n  loading = false,\n  onRiskFactorClick,\n  onRecommendationClick,\n  testId,\n}) => {\n  // Sort risk factors by severity\n  const sortedFactors = useMemo(() => {\n    const severityOrder = { critical: 0, high: 1, medium: 2, low: 3 };\n    return [...riskFactors].sort(\n      (a, b) => severityOrder[a.severity] - severityOrder[b.severity]\n    );\n  }, [riskFactors]);\n\n  // Sort recommendations by priority\n  const sortedRecommendations = useMemo(() => {\n    const priorityOrder = { immediate: 0, high: 1, medium: 2, low: 3 };\n    return [...recommendations].sort(\n      (a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]\n    );\n  }, [recommendations]);\n\n  if (loading) {\n    return (\n      <CommandCenterContainer data-testid={testId} sx={{ p: 4, textAlign: 'center' }}>\n        <LinearProgress\n          sx={{\n            bgcolor: alpha(cyberColors.neon.cyan, 0.1),\n            '& .MuiLinearProgress-bar': {\n              background: designTokens.colors.gradients.primary,\n            },\n          }}\n        />\n        <Typography variant=\"body2\" sx={{ mt: 2, color: cyberColors.text.secondary }}>\n          Calculating risk assessment...\n        </Typography>\n      </CommandCenterContainer>\n    );\n  }\n\n  return (\n    <CommandCenterContainer data-testid={testId}>\n      {/* Header */}\n      <HeaderSection>\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n          <ShieldIcon sx={{ color: cyberColors.neon.cyan }} />\n          <Box>\n            <Typography\n              variant=\"h6\"\n              sx={{\n                fontFamily: designTokens.typography.fontFamily.display,\n                color: cyberColors.text.primary,\n                fontSize: '1rem',\n              }}\n            >\n              {title}\n            </Typography>\n            <Typography variant=\"caption\" sx={{ color: cyberColors.text.secondary }}>\n              Real-time risk assessment across {categories.length} categories\n            </Typography>\n          </Box>\n        </Box>\n      </HeaderSection>\n\n      <Grid container>\n        {/* Left: Gauge + Categories */}\n        <Grid item xs={12} md={6} sx={{ borderRight: { md: `1px solid ${alpha(cyberColors.neon.cyan, 0.1)}` } }}>\n          {/* Central Gauge */}\n          <GaugeContainer>\n            <RiskGaugeComponent value={overallScore} trend={overallTrend} />\n          </GaugeContainer>\n\n          {/* Category Breakdown */}\n          <Box sx={{ p: 2, pt: 0 }}>\n            <Typography\n              variant=\"caption\"\n              sx={{\n                color: cyberColors.neon.cyan,\n                fontWeight: 600,\n                display: 'block',\n                mb: 1,\n                letterSpacing: '0.05em',\n              }}\n            >\n              CATEGORY BREAKDOWN\n            </Typography>\n            <Grid container spacing={1}>\n              {categories.map((cat, index) => {\n                const config = categoryConfig[cat.category];\n                return (\n                  <Grid item xs={6} key={cat.category}>\n                    <CategoryCard\n                      categoryColor={config.color}\n                      initial={{ opacity: 0, x: -20 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ delay: index * 0.05 }}\n                      whileHover={{ scale: 1.02 }}\n                    >\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n                        <Box sx={{ color: config.color, fontSize: 16 }}>{config.icon}</Box>\n                        <Typography\n                          variant=\"caption\"\n                          sx={{ fontWeight: 600, color: cyberColors.text.primary }}\n                        >\n                          {config.label}\n                        </Typography>\n                      </Box>\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <Typography\n                          variant=\"h6\"\n                          sx={{\n                            fontFamily: designTokens.typography.fontFamily.mono,\n                            color: config.color,\n                            fontWeight: 700,\n                          }}\n                        >\n                          {cat.score}\n                        </Typography>\n                        {cat.trend === 'up' && (\n                          <TrendingUpIcon sx={{ fontSize: 14, color: cyberColors.neon.red }} />\n                        )}\n                        {cat.trend === 'down' && (\n                          <TrendingDownIcon sx={{ fontSize: 14, color: cyberColors.neon.green }} />\n                        )}\n                        {cat.trend === 'stable' && (\n                          <TrendingFlatIcon sx={{ fontSize: 14, color: cyberColors.text.muted }} />\n                        )}\n                      </Box>\n                      <Sparkline data={cat.history} color={config.color} />\n                    </CategoryCard>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </Box>\n        </Grid>\n\n        {/* Right: Risk Factors + Recommendations */}\n        <Grid item xs={12} md={6}>\n          {/* Top Risk Factors */}\n          <Box sx={{ p: 2, borderBottom: `1px solid ${alpha(cyberColors.neon.cyan, 0.1)}` }}>\n            <Typography\n              variant=\"caption\"\n              sx={{\n                color: cyberColors.neon.red,\n                fontWeight: 600,\n                display: 'block',\n                mb: 1,\n                letterSpacing: '0.05em',\n              }}\n            >\n              <WarningIcon sx={{ fontSize: 12, mr: 0.5, verticalAlign: 'middle' }} />\n              TOP RISK FACTORS\n            </Typography>\n            <Box sx={{ maxHeight: 200, overflowY: 'auto' }}>\n              {sortedFactors.slice(0, 5).map((factor, index) => (\n                <RiskFactorCard\n                  key={factor.id}\n                  onClick={() => onRiskFactorClick?.(factor)}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                  whileHover={{ x: 4 }}\n                >\n                  <Box sx={{ display: 'flex', alignItems: 'flex-start', gap: 1 }}>\n                    <Chip\n                      label={factor.severity.toUpperCase()}\n                      size=\"small\"\n                      sx={{\n                        height: 18,\n                        fontSize: '0.55rem',\n                        fontWeight: 700,\n                        bgcolor: alpha(severityColors[factor.severity], 0.2),\n                        color: severityColors[factor.severity],\n                      }}\n                    />\n                    <Box sx={{ flex: 1, minWidth: 0 }}>\n                      <Typography\n                        variant=\"caption\"\n                        sx={{\n                          fontWeight: 600,\n                          color: cyberColors.text.primary,\n                          display: 'block',\n                        }}\n                      >\n                        {factor.title}\n                      </Typography>\n                      <Typography\n                        variant=\"caption\"\n                        sx={{\n                          color: cyberColors.text.secondary,\n                          fontSize: '0.65rem',\n                          display: 'block',\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          whiteSpace: 'nowrap',\n                        }}\n                      >\n                        {factor.description}\n                      </Typography>\n                    </Box>\n                  </Box>\n                </RiskFactorCard>\n              ))}\n            </Box>\n          </Box>\n\n          {/* AI Recommendations */}\n          <Box sx={{ p: 2 }}>\n            <Typography\n              variant=\"caption\"\n              sx={{\n                color: cyberColors.neon.green,\n                fontWeight: 600,\n                display: 'block',\n                mb: 1,\n                letterSpacing: '0.05em',\n              }}\n            >\n              <LightbulbIcon sx={{ fontSize: 12, mr: 0.5, verticalAlign: 'middle' }} />\n              RECOMMENDED ACTIONS\n            </Typography>\n            <Box sx={{ maxHeight: 180, overflowY: 'auto' }}>\n              {sortedRecommendations.slice(0, 4).map((rec, index) => (\n                <RecommendationCard\n                  key={rec.id}\n                  priority={rec.priority}\n                  onClick={() => onRecommendationClick?.(rec)}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.05 }}\n                  whileHover={{ x: 4 }}\n                >\n                  <Box sx={{ display: 'flex', alignItems: 'flex-start', gap: 1 }}>\n                    <Box sx={{ flex: 1, minWidth: 0 }}>\n                      <Typography\n                        variant=\"caption\"\n                        sx={{\n                          fontWeight: 600,\n                          color: cyberColors.text.primary,\n                          display: 'block',\n                        }}\n                      >\n                        {rec.title}\n                      </Typography>\n                      <Typography\n                        variant=\"caption\"\n                        sx={{\n                          color: cyberColors.text.secondary,\n                          fontSize: '0.65rem',\n                          display: 'block',\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          whiteSpace: 'nowrap',\n                        }}\n                      >\n                        {rec.description}\n                      </Typography>\n                    </Box>\n                    <Box sx={{ display: 'flex', gap: 0.5 }}>\n                      <Chip\n                        label={rec.priority}\n                        size=\"small\"\n                        sx={{\n                          height: 16,\n                          fontSize: '0.5rem',\n                          fontWeight: 700,\n                          bgcolor: alpha(priorityColors[rec.priority], 0.2),\n                          color: priorityColors[rec.priority],\n                        }}\n                      />\n                      <Tooltip title={`Effort: ${rec.effort}`}>\n                        <Chip\n                          label={rec.effort[0].toUpperCase()}\n                          size=\"small\"\n                          sx={{\n                            height: 16,\n                            fontSize: '0.5rem',\n                            bgcolor: alpha(cyberColors.text.muted, 0.2),\n                          }}\n                        />\n                      </Tooltip>\n                    </Box>\n                  </Box>\n                </RecommendationCard>\n              ))}\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n    </CommandCenterContainer>\n  );\n};\n\nexport default RiskCommandCenter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}